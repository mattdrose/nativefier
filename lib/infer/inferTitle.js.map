{"version":3,"sources":["infer/inferTitle.js"],"names":["USER_AGENT","inferTitle","url","options","method","headers","then","data","$","load","first","text","replace"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,yHAAnB;;AAEA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACvB,MAAMC,UAAU;AACdC,YAAQ,KADM;AAEdF,OAFc;AAGdG,aAAS;AACP;AACA,oBAAcL;AAFP;AAHK,GAAhB;;AASA,SAAO,qBAAMG,OAAN,EAAeG,IAAf,CAAoB,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;;AACvC,QAAMC,IAAI,kBAAQC,IAAR,CAAaF,IAAb,CAAV;AACA,WAAOC,EAAE,OAAF,EAAWE,KAAX,GAAmBC,IAAnB,GAA0BC,OAA1B,CAAkC,KAAlC,EAAyC,EAAzC,CAAP;AACD,GAHM,CAAP;AAID;;kBAEcX,U","file":"inferTitle.js","sourcesContent":["import axios from 'axios';\nimport cheerio from 'cheerio';\n\nconst USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36';\n\nfunction inferTitle(url) {\n  const options = {\n    method: 'get',\n    url,\n    headers: {\n      // fake a user agent because pages like http://messenger.com will throw 404 error\n      'User-Agent': USER_AGENT,\n    },\n  };\n\n  return axios(options).then(({ data }) => {\n    const $ = cheerio.load(data);\n    return $('title').first().text().replace(/\\//g, '');\n  });\n}\n\nexport default inferTitle;\n"]}